<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>template模板引擎设计</title>
    <style>
        .list-item{
            color:rebeccapurple
        }
    </style>
</head>
<body>
    <div id='box'></div>
    <script src="underscore.js"></script>
    <script type='text/template' id='tel'>
        <ul class="list">
            <%obj.forEach(function(e,i,a){%>
                <%if(i===1){%>
                    <li class="list-item"><%=e.name%></li>
                <%}else{%>
                    <li><%=e.name%></li>
                <%}})%>
        </ul>
    </script>
    <script>
        var data = [{
            name:'max'
        },{
            name:'remi'
        },{
            name:'long'
        }]

        var templateString = document.getElementById('tel').innerHTML
        var compiled = _.template(templateString)
        var renderString = compiled(data)
        document.querySelector('div').innerHTML = renderString
    </script>
    <!-- <script>
        /*
            underscore的template模板引擎是模板解释、数据绑定（预编译）是分开的，
        这样做的好处是数据发作变化时，不用重新进行字符串解释
        */

        // 数据对象
        var data = {
            name:'word'
        }
        
        // 截取处理    匹配的部分  替换
        var compile = _.template('hello <%= name %> <%alert("123")%>') // 模板作用域怎么去绑定  用with + new Function()

        // 数据绑定
        console.log( compile(data) )
        
        data.name = 'max'
        console.log( compile(data) )
        
    </script> -->
</body>
</html